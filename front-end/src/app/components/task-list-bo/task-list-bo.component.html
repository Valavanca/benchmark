<div class="box" *ngIf="isModelType('BO')">
    <mat-card class="result">   
      <mat-card-header>
        <h3>Result <span class="length">({{result?.length}})</span></h3>
      </mat-card-header> 

      <mat-card-content>
        <mat-form-field>
          <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
        </mat-form-field>
        <div class="mat-elevation-z8" >
          <table mat-table #table [dataSource]="resultData" multiTemplateDataRows matSort>
        
            <!-- Id Column -->
            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
              <td mat-cell *matCellDef="let task"> {{task?.id?.toString().substr(0, 5)}} </td>
            </ng-container>
        
            <!-- Congiguration Column -->
            <ng-container matColumnDef="run">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Configuration
                <!-- laplace_correction, estimation_mode, bandwidth_selection, bandwidth, minimum_bandwidth, number_of_kernels, use_application_grid, application_grid_size  -->
              </th>
              <td mat-cell *matCellDef="let task">
                {{task.run?.param?.laplace_correction}} - {{task.run?.param?.estimation_mode}} - {{task.run?.param?.bandwidth_selection}} - {{task.run?.param?.bandwidth}} - {{task.run?.param?.minimum_bandwidth}} - {{task.run?.param?.number_of_kernels}} - {{task.run?.param?.use_application_grid}} - {{task.run?.param?.application_grid_size}}
                <!-- <p>{{task.run?.method}}</p> -->
              </td>
            </ng-container>
        
            <!-- File Column -->
            <ng-container matColumnDef="file">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                File
              </th>
              <td mat-cell *matCellDef="let task">
                {{task.config?.ws_file | lowercase}}
              </td>
            </ng-container>
        
            <!-- Result Column -->
            <ng-container matColumnDef="result">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                PREC_AT_99_REC
              </th>
              <td mat-cell *matCellDef="let task">
                {{task.meta?.result?.accuracy}}
              </td>
            </ng-container>
        
            
            <!-- Expanded Content Column - 
              The detail row is made up of this one column that spans across all columns -->
            <ng-container matColumnDef="expandedDetail">
              <td mat-cell *matCellDef="let task" [attr.colspan]="displayedColumns.length">
                <div class="example-element-detail" 
                [@detailExpand]="task == focus ? 'expanded' : 'collapsed'" *ngIf="task == focus">
                  <mat-list dense role="list">
                    <mat-list-item role="listitem">
                      <mat-icon>gradient</mat-icon>
                      <span>Method: </span>
                      <span> {{task?.run?.method}}</span>
                    </mat-list-item>
                    <mat-list-item role="listitem">
                      <mat-icon>rowing</mat-icon>
                      <span>Worker:</span>
                      <span>{{task?.meta?.appointment}}</span>
                    </mat-list-item>
                    <mat-list-item role="listitem">
                      <mat-icon></mat-icon>
                      <span> </span>
                      <span> </span>
                    </mat-list-item>
                  </mat-list>
                  <mat-list dense role="list">
                    <mat-list-item role="listitem">
                      <mat-icon>directions</mat-icon>
                      <span>Configuration details:</span>
                      <span></span>
                    </mat-list-item>

                    <mat-list-item role="listitem">
                      <mat-icon></mat-icon>
                      <span></span>
                      <span>1. Laplace correction: <strong>{{task.run?.param?.laplace_correction}}</strong><br>
                        2. Estimation mode: <strong>{{task.run?.param?.estimation_mode}}</strong><br>
                        3. Bandwidth selection: <strong>{{task.run?.param?.bandwidth_selection}}</strong></span>
                    </mat-list-item>
                  </mat-list>
                  <mat-list dense role="list">
                    <mat-list-item role="listitem">
                      <mat-icon></mat-icon>
                      <span> </span>
                      <span> </span>
                    </mat-list-item>
                    <mat-list-item role="listitem">
                      <mat-icon></mat-icon>
                      <span></span>
                      <span>4. Bandwidth: <strong>{{task.run?.param?.bandwidth}}</strong><br>
                        5. Minimum bandwidth: <strong>{{task.run?.param?.minimum_bandwidth}}</strong><br>
                        6. Number of kernels: <strong>{{task.run?.param?.number_of_kernels}}</strong></span>
                    </mat-list-item>
                  </mat-list>
                  <mat-list dense role="list">
                    <mat-list-item role="listitem">
                      <mat-icon></mat-icon>
                      <span> </span>
                      <span> </span>
                    </mat-list-item>
                    <mat-list-item role="listitem">
                      <mat-icon></mat-icon>
                      <span></span>
                      <span>7. Use application grid: <strong>{{task.run?.param?.use_application_grid}}</strong><br>
                        8. Application grid size: <strong>{{task.run?.param?.application_grid_size}}</strong></span>
                    </mat-list-item>
                  </mat-list>

                </div>
              </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
            <tr mat-row *matRowDef="let task; columns: displayedColumns;"
              class="example-element-row" 
              [class.example-expanded-row]="focus == task"
              (click)="focus == task ? focus = null : focus = task">
            </tr>
            <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
          </table>
          <!--<mat-paginator [pageSizeOptions]="[10, 25, 100]" showFirstLastButtons></mat-paginator>-->
        </div>

      </mat-card-content>
    </mat-card>  <!-- end results -->

</div>

